{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from 'axios';\n\nclass Register extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: [],\n      id: 0,\n      name: '',\n      email: '',\n      intervalIsSet: false,\n      idToDelete: null,\n      idToUpdate: null,\n      objectToUpdate: null\n    });\n\n    _defineProperty(this, \"getDataFromDb\", () => {\n      fetch('http://localhost:3000/api/users.js') // fetch('/api/getData')\n      .then(data => data.json()).then(res => this.setState({\n        data: res.data\n      }));\n    });\n\n    _defineProperty(this, \"putDataToDB\", () => {\n      let currentIds = this.state.data.map(data => data.id);\n      let idToBeAdded = 0;\n\n      while (currentIds.includes(idToBeAdded)) {\n        ++idToBeAdded;\n      }\n\n      axios.post('http://localhost:3000/api/putData', {\n        name: this.state.name,\n        email: this.state.email\n      }).then(res => {//on success\n      }).catch(error => {//on error\n      });\n    });\n  }\n\n  // when component mounts, first thing it does is fetch all existing data in our db\n  // then we incorporate a polling logic so that we can easily see if our db has\n  // changed and implement those changes into our UI\n  componentDidMount() {\n    this.getDataFromDb();\n\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 1000);\n      this.setState({\n        intervalIsSet: interval\n      });\n    }\n  } // never let a process live forever\n  // always kill a process everytime we are done using it\n\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  } // just a note, here, in the front end, we use the id key of our data object\n  // in order to identify which we want to Update or delete.\n  // for our back end, we use the object id assigned by MongoDB to modify\n  // data base entries\n  // our first get method that uses our backend api to\n  // fetch data from our data base\n\n\n  // render page\n  render() {\n    const {\n      data\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"jsx-183188917\"\n    }, data.length <= 0 ? 'NO DB ENTRIES YET' : data.map(dat => console.log(dat.id, dat.name, dat.email)), __jsx(\"div\", {\n      class: \"container-account\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"container\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"row\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"col-md-12\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"h1\", {\n      class: \"text-center\",\n      className: \"jsx-183188917\"\n    }, \"Register\")))), __jsx(\"div\", {\n      class: \"container\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"row\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"col-md-10 m-auto\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"form-group\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"form\", {\n      class: \"form-container\",\n      action: \"/register\",\n      method: \"POST\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"label\", {\n      for: \"name\",\n      className: \"jsx-183188917\"\n    }, \"Name\"), __jsx(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      class: \"form-control animated fadeIn\",\n      onChange: e => this.setState({\n        name: e.target.value\n      }),\n      className: \"jsx-183188917\"\n    }), __jsx(\"label\", {\n      for: \"email\",\n      className: \"jsx-183188917\"\n    }, \"Email\"), __jsx(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      class: \"form-control animated fadeIn\",\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      className: \"jsx-183188917\"\n    }), __jsx(\"label\", {\n      for: \"password\",\n      className: \"jsx-183188917\"\n    }, \"Password\"), __jsx(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      class: \"form-control animated fadeIn\",\n      className: \"jsx-183188917\"\n    })), __jsx(\"div\", {\n      class: \"modal-margins\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"row\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"div\", {\n      class: \"col-md-8 m-auto\",\n      className: \"jsx-183188917\"\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary btn-block\",\n      onClick: () => this.putDataToDB(this.state),\n      className: \"jsx-183188917\"\n    }, \"Register\")))), __jsx(\"p\", {\n      class: \"lead mt-4\",\n      className: \"jsx-183188917\"\n    }, \"Have An Account?\", \" \", __jsx(\"a\", {\n      class: \"register\",\n      href: \"/users/login\",\n      className: \"jsx-183188917\"\n    }, \"Login\"))))))), __jsx(_JSXStyle, {\n      id: \"183188917\"\n    }, \"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zY2h3YXJ6L3N1aXNzZS9jb21wb25lbnRzL1JlZ2lzdGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1LMEIiLCJmaWxlIjoiL1VzZXJzL3NjaHdhcnovc3Vpc3NlL2NvbXBvbmVudHMvUmVnaXN0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5cbmNsYXNzIFJlZ2lzdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICAgICAgICAvLyBpbml0aWFsaXplIG91ciBzdGF0ZVxuICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICBpZDogMCxcbiAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgaW50ZXJ2YWxJc1NldDogZmFsc2UsXG4gICAgICAgICAgaWRUb0RlbGV0ZTogbnVsbCxcbiAgICAgICAgICBpZFRvVXBkYXRlOiBudWxsLFxuICAgICAgICAgIG9iamVjdFRvVXBkYXRlOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgXG4gICAgICAgIC8vIHdoZW4gY29tcG9uZW50IG1vdW50cywgZmlyc3QgdGhpbmcgaXQgZG9lcyBpcyBmZXRjaCBhbGwgZXhpc3RpbmcgZGF0YSBpbiBvdXIgZGJcbiAgICAgICAgLy8gdGhlbiB3ZSBpbmNvcnBvcmF0ZSBhIHBvbGxpbmcgbG9naWMgc28gdGhhdCB3ZSBjYW4gZWFzaWx5IHNlZSBpZiBvdXIgZGIgaGFzXG4gICAgICAgIC8vIGNoYW5nZWQgYW5kIGltcGxlbWVudCB0aG9zZSBjaGFuZ2VzIGludG8gb3VyIFVJXG4gICAgICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgIHRoaXMuZ2V0RGF0YUZyb21EYigpO1xuICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5pbnRlcnZhbElzU2V0KSB7XG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLmdldERhdGFGcm9tRGIsIDEwMDApO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludGVydmFsSXNTZXQ6IGludGVydmFsIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIC8vIG5ldmVyIGxldCBhIHByb2Nlc3MgbGl2ZSBmb3JldmVyXG4gICAgICAgIC8vIGFsd2F5cyBraWxsIGEgcHJvY2VzcyBldmVyeXRpbWUgd2UgYXJlIGRvbmUgdXNpbmcgaXRcbiAgICAgICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaW50ZXJ2YWxJc1NldCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0YXRlLmludGVydmFsSXNTZXQpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludGVydmFsSXNTZXQ6IG51bGwgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgLy8ganVzdCBhIG5vdGUsIGhlcmUsIGluIHRoZSBmcm9udCBlbmQsIHdlIHVzZSB0aGUgaWQga2V5IG9mIG91ciBkYXRhIG9iamVjdFxuICAgICAgICAvLyBpbiBvcmRlciB0byBpZGVudGlmeSB3aGljaCB3ZSB3YW50IHRvIFVwZGF0ZSBvciBkZWxldGUuXG4gICAgICAgIC8vIGZvciBvdXIgYmFjayBlbmQsIHdlIHVzZSB0aGUgb2JqZWN0IGlkIGFzc2lnbmVkIGJ5IE1vbmdvREIgdG8gbW9kaWZ5XG4gICAgICAgIC8vIGRhdGEgYmFzZSBlbnRyaWVzXG4gICAgICBcbiAgICAgICAgLy8gb3VyIGZpcnN0IGdldCBtZXRob2QgdGhhdCB1c2VzIG91ciBiYWNrZW5kIGFwaSB0b1xuICAgICAgICAvLyBmZXRjaCBkYXRhIGZyb20gb3VyIGRhdGEgYmFzZVxuICAgICAgICBnZXREYXRhRnJvbURiID0gKCkgPT4ge1xuICAgICAgICAgIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzLmpzJylcbiAgICAgICAgICAvLyBmZXRjaCgnL2FwaS9nZXREYXRhJylcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiBkYXRhLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHRoaXMuc2V0U3RhdGUoeyBkYXRhOiByZXMuZGF0YSB9KSk7XG4gICAgICAgIH07XG4gICAgICBcbiAgICAgICAgLy8gb3VyIHB1dCBtZXRob2QgdGhhdCB1c2VzIG91ciBiYWNrZW5kIGFwaVxuICAgICAgICAvLyB0byBjcmVhdGUgbmV3IHF1ZXJ5IGludG8gb3VyIGRhdGEgYmFzZVxuICAgICAgICBwdXREYXRhVG9EQiA9ICgpID0+IHtcbiAgICAgICAgICBsZXQgY3VycmVudElkcyA9IHRoaXMuc3RhdGUuZGF0YS5tYXAoKGRhdGEpID0+IGRhdGEuaWQpO1xuICAgICAgICAgIGxldCBpZFRvQmVBZGRlZCA9IDA7XG4gICAgICAgICAgd2hpbGUgKGN1cnJlbnRJZHMuaW5jbHVkZXMoaWRUb0JlQWRkZWQpKSB7XG4gICAgICAgICAgICArK2lkVG9CZUFkZGVkO1xuICAgICAgICAgIH1cbiAgICAgIFxuICAgICAgXG4gICAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wdXREYXRhJyx7XG4gICAgICAgICAgICBuYW1lOnRoaXMuc3RhdGUubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOnRoaXMuc3RhdGUuZW1haWxcbiAgICAgICAgICBcbiAgICAgICAgICB9KS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAvL29uIHN1Y2Nlc3NcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcik9PntcbiAgICAgICAgICAgIC8vb24gZXJyb3JcbiAgICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgXG4gICAgICBcbiAgICAgIFxuICAgICAgICAvLyByZW5kZXIgcGFnZVxuICAgICAgXG4gICAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge2RhdGEubGVuZ3RoIDw9IDBcbiAgICAgICAgICAgICAgICAgID8gJ05PIERCIEVOVFJJRVMgWUVUJ1xuICAgICAgICAgICAgICAgICAgOiBkYXRhLm1hcCgoZGF0KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0LmlkLCBkYXQubmFtZSwgZGF0LmVtYWlsIClcbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFxuICAgICAgXG4gICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lci1hY2NvdW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SZWdpc3RlcjwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTAgbS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPVwiZm9ybS1jb250YWluZXJcIiBhY3Rpb249XCIvcmVnaXN0ZXJcIiBtZXRob2Q9XCJQT1NUXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJuYW1lXCI+TmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuaW1hdGVkIGZhZGVJblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5zZXRTdGF0ZSh7IG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImVtYWlsXCI+RW1haWw8L2xhYmVsPlxuICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbCBhbmltYXRlZCBmYWRlSW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMuc2V0U3RhdGUoeyBlbWFpbDogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInBhc3N3b3JkXCI+UGFzc3dvcmQ8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5pbWF0ZWQgZmFkZUluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLW1hcmdpbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtOCBtLWF1dG9cIj5cbiAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMucHV0RGF0YVRvREIodGhpcy5zdGF0ZSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZ2lzdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJsZWFkIG10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgSGF2ZSBBbiBBY2NvdW50P3tcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJyZWdpc3RlclwiIGhyZWY9XCIvdXNlcnMvbG9naW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dpblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcblxuICAgICAgICAgICAgICBgfTwvc3R5bGU+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuXG5leHBvcnQgZGVmYXVsdCBSZWdpc3RlciJdfQ== */\\n/*@ sourceURL=/Users/schwarz/suisse/components/Register.js */\"));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/schwarz/suisse/components/Register.js"],"names":["React","axios","Register","Component","data","id","name","email","intervalIsSet","idToDelete","idToUpdate","objectToUpdate","fetch","then","json","res","setState","currentIds","state","map","idToBeAdded","includes","post","catch","error","componentDidMount","getDataFromDb","interval","setInterval","componentWillUnmount","clearInterval","render","length","dat","console","log","e","target","value","putDataToDB"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nclass Register extends React.Component {\n\n        // initialize our state\n        state = {\n          data: [],\n          id: 0,\n          name: '',\n          email: '',\n          intervalIsSet: false,\n          idToDelete: null,\n          idToUpdate: null,\n          objectToUpdate: null,\n        };\n      \n        // when component mounts, first thing it does is fetch all existing data in our db\n        // then we incorporate a polling logic so that we can easily see if our db has\n        // changed and implement those changes into our UI\n        componentDidMount() {\n          this.getDataFromDb();\n          if (!this.state.intervalIsSet) {\n            let interval = setInterval(this.getDataFromDb, 1000);\n            this.setState({ intervalIsSet: interval });\n          }\n        }\n      \n        // never let a process live forever\n        // always kill a process everytime we are done using it\n        componentWillUnmount() {\n          if (this.state.intervalIsSet) {\n            clearInterval(this.state.intervalIsSet);\n            this.setState({ intervalIsSet: null });\n          }\n        }\n      \n        // just a note, here, in the front end, we use the id key of our data object\n        // in order to identify which we want to Update or delete.\n        // for our back end, we use the object id assigned by MongoDB to modify\n        // data base entries\n      \n        // our first get method that uses our backend api to\n        // fetch data from our data base\n        getDataFromDb = () => {\n          fetch('http://localhost:3000/api/users.js')\n          // fetch('/api/getData')\n            .then((data) => data.json())\n            .then((res) => this.setState({ data: res.data }));\n        };\n      \n        // our put method that uses our backend api\n        // to create new query into our data base\n        putDataToDB = () => {\n          let currentIds = this.state.data.map((data) => data.id);\n          let idToBeAdded = 0;\n          while (currentIds.includes(idToBeAdded)) {\n            ++idToBeAdded;\n          }\n      \n      \n          axios.post('http://localhost:3000/api/putData',{\n            name:this.state.name,\n            email:this.state.email\n          \n          }).then((res)=>{\n            //on success\n            }).catch((error)=>{\n            //on error\n          });\n      \n        }\n      \n        \n      \n      \n        // render page\n      \n        render() {\n          const { data } = this.state;\n          return (\n            <div>\n             \n                {data.length <= 0\n                  ? 'NO DB ENTRIES YET'\n                  : data.map((dat) => (\n                      console.log(dat.id, dat.name, dat.email )\n                    ))}\n                \n              \n      \n      \n              <div class=\"container-account\">\n                <div class=\"container\">\n                  <div class=\"row\">\n                    <div class=\"col-md-12\">\n                      <h1 class=\"text-center\">Register</h1>\n                    </div>\n                  </div>\n                </div>\n      \n                <div class=\"container\">\n                  <div class=\"row\">\n                    <div class=\"col-md-10 m-auto\">\n                      <div class=\"form-group\">\n                        <form class=\"form-container\" action=\"/register\" method=\"POST\">\n                          <label for=\"name\">Name</label>\n                          \n                          <input\n                          type=\"text\"\n                          name=\"name\"\n                          class=\"form-control animated fadeIn\"\n                          onChange={(e) => this.setState({ name: e.target.value })}\n                  \n                          />\n      \n                          <label for=\"email\">Email</label>\n      \n                          <input\n                          type=\"email\"\n                          name=\"email\"\n                          class=\"form-control animated fadeIn\"\n                          onChange={(e) => this.setState({ email: e.target.value })}\n                  \n                          />\n                          \n      \n                          <label for=\"password\">Password</label>\n                          <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            class=\"form-control animated fadeIn\"\n                          />\n                        </form>\n      \n                        <div class=\"modal-margins\">\n                          <div class=\"row\">\n                            <div class=\"col-md-8 m-auto\">\n      \n                            <button\n                            type=\"submit\"\n                            class=\"btn btn-primary btn-block\"\n                            onClick={() => this.putDataToDB(this.state)}>\n                            Register\n                            </button>\n      \n                            </div>\n                          </div>\n                        </div>\n      \n                        <p class=\"lead mt-4\">\n                          Have An Account?{\" \"}\n                          <a class=\"register\" href=\"/users/login\">\n                            Login\n                          </a>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <style jsx>{`\n\n              `}</style>\n\n            </div>\n          );\n        }\n      }\n      \n\nexport default Register"]},"metadata":{},"sourceType":"module"}